\ProvidesPackage{mirea}
\usepackage{extsizes}
\usepackage[english,russian]{babel} % на каких языках написан текст. В идеале нужно для переносов, которых строго говоря по стандарту МИРЭА в отчётах и работах НЕТ (хотя разница до и после отключения переносов ужасная)
\usepackage{fontspec}
\defaultfontfeatures{Ligatures={TeX},Renderer=Basic}
\setmainfont[Ligatures={TeX,Historic},Scale=.976]{Times New Roman} % требование МИРЭА
\usepackage[left=30mm, top=20mm, right=10mm, bottom=20mm, nohead, footskip=10mm]{geometry} % поля 
\usepackage{microtype}
\usepackage{graphicx} % для вставки картинок
\usepackage{float} % для работы с плавающими объектами (таблицы, иллюстрации, ...)
\usepackage{indentfirst} % отделять первую строку раздела абзацным отступом тоже
\linespread{1.465}
\frenchspacing % пробелы после точки такие же, как после обычных символов - нормально для большинства языков, кроме английского
\pagenumbering{arabic} % нумерация страниц арабскими цифрами
\usepackage{tocloft} % для работы с оглавлением и указателями
\renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}} % точки для оглавления разделов - вещь бесполезная и даже мешающая при адекватном разбиении разделов, но нужна по стандарту
\sloppy % текст выглядит хтонически ужасно, но переносов больше нет!
\hyphenpenalty=10000

\usepackage{titlesec}
\titleformat{\subsection}{\fontsize{16bp}{24bp}\selectfont\bf}{\thesubsection.}{3pt}{\space}
\titlespacing*{\subsection}{\parindent}{1ex}{1em}
\titleformat{\section}{\fontsize{18bp}{27bp}\selectfont\bf}{\thesection.}{5pt}{\space}
\titlespacing*{\section}{\parindent}{1ex}{1em}
\titleformat{\subsubsection}{\fontsize{14bp}{21bp}\selectfont\bf}{\thesubsubsection.}{2pt}{\space}
\titlespacing*{\subsubsection}{\parindent}{1ex}{1em}

\pagestyle{plain} % колонтитулы отключить, оставить только номера страниц
\parindent=1.25cm % отступ первого абзаца
\newcommand{\anonsection}[1]{\clearpage\section*{\MakeUppercase{#1}}\addcontentsline{toc}{section}{\MakeUppercase{#1}}} %для введения, заключения и выводов - эти разделы не подлежат нумерации
\newcommand{\введение}{\anonsection{Введение}}
\newcommand{\заключение}{\anonsection{Заключение}}
\newcommand{\выводы}{\anonsection{Выводы}} 

\newcommand{\раздел}[1]{\clearpage\section{\MakeUppercase{#1}}} % описание раздела
\newcommand{\подраздел}[1]{\pagebreak[0]\subsection{#1}} % описание подраздела
\newcommand{\пункт}[1]{\subsubsection{#1}} % описание пункта

\usepackage[figurename=Рисунок]{caption}
\DeclareCaptionLabelSeparator{emdash}{ --- } % вводим свой знак разделения для подписей - тире (в пакете caption есть только endash (оно же среднее тире), который по стандарту МИРЭА следует читать как "минус" и использовать исключительно в математических выражениях
\captionsetup{labelsep=emdash} % назначение тире знаком разделения
\renewcommand{\thefigure}{\thesection.\arabic{figure}} % TeX предполагает, что рисунки в статьях нумеруются как 1,2,3, ..., но в стандарте МИРЭА чётко указано, что рисунки составлены из номера раздела и номера рисунка в разделе.
\newcommand{\смрис}[1]{(Рисунок~\ref{#1})} % просто ссылка на рисунок по стандарту МИРЭА в скобках (Рисунок 3.1)
\usepackage{chngcntr} % импорт подобия гипотетической команды renewcounter
\counterwithin{figure}{section} % делаем счётчик figure зависимым от разделов, а не глав (у нас шаблон статьи! у нас нет глав!)

\setmonofont[Ligatures=TeX, Scale=0.697]{Consolas} % опять же, требование МИРЭА
\usepackage{listings}
\lstset{
	frame=single,
	captionpos=b,
	basicstyle=\ttfamily
}

% "переопределение" счётчика lstlisting содержится после \begin{document} - это требование пакета listings
